apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: example-validating-webhook
webhooks:
  - name: example.webhook.com
    clientConfig:
      service:
        name: webhook-server
        namespace: default
        path: "/validate"
        # Assuming the Kubernetes cluster and the webhook service are in the same namespace.
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURDekNDQWZPZ0F3SUJBZ0lVSGlRbTFjTHdxVEpVRUExV3V3YnVVbmw4MDNZd0RRWUpLb1pJaHZjTkFRRUwKQlFBd0ZURVRNQkVHQTFVRUF3d0taWGhoYlhCc1pTMWpZVEFlRncweU5EQXpNekF4TmpJNU1qQmFGdzB5TnpBeApNVGd4TmpJNU1qQmFNQlV4RXpBUkJnTlZCQU1NQ21WNFlXMXdiR1V0WTJFd2dnRWlNQTBHQ1NxR1NJYjNEUUVCCkFRVUFBNElCRHdBd2dnRUtBb0lCQVFDM3UvRmRsdk5UMjczWnhIK0FGaGJNbnplek5haldNeDYzVlFva2RUeHUKQ2FYdEN1ZkhkWitxT3dNM1hDcUViWWR5SFJxaU0xbHNNVno1NHE3dkErQmcyQTk3YjB0L2pvWmpYSVM4U1JWVgpaNnFqTnU0NnJtdzFDOThiYWN6bGhyTTNxaWhOQ3ZDTDdLejRZVDlqMGFNekxad25vTVBFMDRaR2I4L3VBd3RsCkpIMUxKUUJ4d2xGc0ZZVE1XRWdTaW8rYVdqQ2N6Vlk2NExjc3hPR3ZpWE5WS1BxeWhzd2J0YUs1ZDhqbnR1dXEKMFJKMXdrL0h5T3QzT3RrdVFzUnNGNGlaRDhQMFJ5TkFWbURGM0ZCTFNsSU9Db3ZzYm9NL1JHclRGTkRRSlFSOApPTWlpZ3FMaUVnYkJMdGRNUUVRSDNZSE9aQWFHa0ZidzM5eEkzMmwxSHNiaEFnTUJBQUdqVXpCUk1CMEdBMVVkCkRnUVdCQlJHVU1xREdPVnZJaEZueXFNb3g3ck4zS0w4WERBZkJnTlZIU01FR0RBV2dCUkdVTXFER09WdkloRm4KeXFNb3g3ck4zS0w4WERBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFDcQpXTFl4MUxONFZHUUY4enZGVFhZSE04VitOTkl0MHNrN3d1Vm5IVTZaYmIzS1pBNjU1cXJoNk1rRmxxQlBXK2JNCldRWVRadzh2a1FwSC9YVmNSOHN0dU8xVW5hZ1poUEZYbit6MXE4eVdvTm9RM3RXQ25xYWhDN1VkUEM3Q0pxTWkKMWlQYW9uVy9DWTFoQklZcGtGTnJFb0tUSmg2eDdUaWYvRnlOSjlZWkdFbEM5ODZJdm9VMFJwNHpVQ0NUdjdncwozSm1SL3BQektTeUI4aGNYdE81MjV2YXBmakZuTS9lcS9mZ2t1RzU0SENEWDVjeXBkYnNrVThsQVJuVmhBT3lzCjMzc0RCWExaQi96V3BrdzFMWUc1NnFNZHp2a1h4VjBQVlhzSTRQalhleXZIZXprTzdpckc4WTNUdkdEYUtTbzAKeENIblhRQTRZS2tmMk1nbnpMY08KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
    rules:
      - operations: ["CREATE", "UPDATE"]
        apiGroups: ["apps", "extensions"]
        apiVersions: ["v1"]
        resources: ["deployments"]
    failurePolicy: Fail
    sideEffects: None
    admissionReviewVersions: ["v1", "v1beta1"]
